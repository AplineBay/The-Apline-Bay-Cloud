<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Apline Bay - Simple Mode</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* iOS 6 Style (CSS-only skeuomorphic glossy look) */
body {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    background: #efefef;
    margin: 0;
    padding: 0;
    color: #333;
}

/* Glossy iOS 6-style navbar */
header {
    background: linear-gradient(to bottom, #6db3f2 0%, #1e69de 100%);
    color: white;
    text-align: center;
    padding: 12px;
    font-weight: bold;
    font-size: 18px;
    border-bottom: 1px solid #124a9c;
    text-shadow: 0 -1px 0 rgba(0,0,0,0.5);
    box-shadow: inset 0 1px rgba(255,255,255,0.5), 0 1px 2px rgba(0,0,0,0.3);
}

.container {
    padding: 12px;
}

/* iOS 6-style pill buttons */
button, .game-link {
    display: block;
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    background: linear-gradient(to bottom, #ffffff 0%, #e5e5e5 100%);
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 16px;
    text-align: left;
    color: #007aff;
    text-decoration: none;
    box-shadow: inset 0 1px 0 #fff, 0 1px 2px rgba(0,0,0,0.2);
}

button:hover, .game-link:hover {
    background: linear-gradient(to bottom, #f9f9f9 0%, #dcdcdc 100%);
}

h2 {
    font-size: 20px;
    margin-top: 20px;
}

.version {
    background: linear-gradient(to bottom, #ffffff 0%, #f2f2f2 100%);
    border: 1px solid #ddd;
    border-radius: 6px;
    padding: 10px;
    margin: 6px 0;
    box-shadow: inset 0 1px 0 #fff, 0 1px 2px rgba(0,0,0,0.1);
}
.version a {
    color: #007aff;
    text-decoration: none;
}
.back-btn {
    display: inline-block;
    margin: 10px 0;
    color: #007aff;
    text-decoration: none;
    font-size: 14px;
}
</style>
</head>
<body>
<header>The Apline Bay (Simple Mode)</header>
<div class="container" id="app">
    Loading games...
</div>

<script>
// Old-school JS for iOS6 compatibility
function loadJSON(callback) {
    var xhr = new XMLHttpRequest();
    xhr.overrideMimeType("application/json");
    xhr.open('GET', 'games.json', true);
    xhr.onreadystatechange = function () {
        if (xhr.readyState == 4 && xhr.status == "200") {
            callback(JSON.parse(xhr.responseText));
        }
    };
    xhr.send(null);
}

function showGameList(data) {
    var app = document.getElementById("app");
    app.innerHTML = "";
    for (var i = 0; i < data.length; i++) {
        (function(game){
            var btn = document.createElement("a");
            btn.href = "javascript:void(0)";
            btn.className = "game-link";
            btn.textContent = game.name;
            btn.onclick = function(){ showGameDetails(game); };
            app.appendChild(btn);
        })(data[i]);
    }
}

function showGameDetails(game) {
    var app = document.getElementById("app");
    app.innerHTML = "<a class='back-btn' href='javascript:void(0)' onclick='showGameList(window._games)'>&larr; Back</a>";
    var title = document.createElement("h2");
    title.textContent = game.name;
    app.appendChild(title);

    var desc = document.createElement("p");
    desc.textContent = game.description;
    app.appendChild(desc);

    for (var i = 0; i < game.versions.length; i++) {
        var v = game.versions[i];
        var div = document.createElement("div");
        div.className = "version";
        div.innerHTML = "<strong>" + v.platform + "</strong><br>" +
                        "<a href='" + v.url + "' target='_blank'>Download</a><br>" +
                        "Tags: " + v.tags.join(", ");
        app.appendChild(div);
    }
}

// Load JSON on start
loadJSON(function(data){
    window._games = data; // keep reference
    showGameList(data);
});
</script>
</body>
</html>
